# 옵셔널
옵셔널은 스위프트의 큰 특징 중 하나인 안전성을 담보로 하는 기능이다.<br> 옵셔널은 단어 뜻 그대로 '선택적인', 즉 값이 '있을 수도 있고, 없을 수도 있음'을 나타내는 표현이다.

```swift
var age : int = 0
```
위 변수 age는 값이 없어 보이지만 0이라는 값이 들어있다.
```swift
var name : string = ""
```
위 변수 name 또한 값이 없어보이지만 공백이라는 값이 들어있다.

만약 변수나 상수에 빈값을 넣고싶다면 nil을 사용해야 한다.(자료형 파일에서 설명)
```swift
var number: Int? = nil
```

nil을 사용하려면 변수 또는 상수가 옵셔널로 선언되어 있어야 한다.<br>
옵셔널은 바로 위, 아래 코드처럼 데이터 타입 뒤에 ?(물음표)를 붙여 표현한다.
```swift
var name: String?
```
이렇게 표현한 옵셔널 타입 변수는 기본적으로 nil 값을 갖는다.<br>
옵셔널은 앞서 말한대로 값이 있을 수도, 없을 수도 있기 때문에 일반적인 값을 넣을 수도 있다.
```swift
var name: String? = "JaeHyeong"
```

일반변수에 옵터널 값을 넣는건 불가능 하다.<br>
옵셔널 변수는 값을 가질 수도 가지지 않을 수도 있지만, 일반 변수는 무조건 값을 가져야 하기 때문이다.

옵셔널 변수를 출력하면
```swift
var name: String? = "Hoojeong"
print(name)

출력:
Optional("Hoojeong")
```
위와 같이 Optional이라는 글자에 둘러싸여 나온다.<br>
옵셔널 값으로는 연산이 불가능 하기 때문에 연산이나 결합을 위해선 옵셔널 바인딩이 필요하다.

------

## 옵셔널 추출
옵셔널 변수는 일반 변수와 그 어떠한 연산도 수행할 수 없다.
연산을 하기 위해서는 옵셔널의 값을 옵셔널이 아닌 값으로 추출 하는 과정을 거쳐야 한다.

옵셔널에서 값을 추출하는 방법은 여러가지이다.
- 명시적 추출
  - 강제 추출
  - 비강제 추출
- 묵시적 추출
  -  컴파일러에 의한 자동 추출
  -  옵셔널의 묵시적 추출

----
## 차례
[1. 강체 추출](#1-강제-추출)<br>
[2. 비강제 추출(옵셔널 바인딩)](#2-비강제-추출옵셔널-바인딩)<br>
[3. 컴파일러에 의한 자동 추출](#3-컴파일러에-의한-자동-추출)<br>
[4. 옵셔널의 묵시적 추출](#4-옵셔널의-묵시적-추출)<br>

----

## 1. 강제 추출
옵셔널의 값을 강제 추출하기 위해서는 옵셔널 변수 뒤에 느낌표(!)를 붙이면 된다.
```swift
var number: Int? = 17

print(number)
print(number!)
```
```swift
Optional(3)
3
```
만약 변수가 nil인 경우에는 추출할 수 있는 값이 없어 런타임 에러가 발생한다. 따라서 잘 사용되지 않는다.

----

## 2. 비강제 추출(옵셔널 바인딩)
다른 언어에서 if를 사용해 변수가 null인지를 먼저 확인하는 것과 같다.
```swift
var number: Int? = 3

if let result = number {
	print(result)
} else {
	print("number is nil")
}
```
```swift
3
```
let이나 var을 사용해 만약 옵셔널에 값이 있다면 값을 추출하여 임시 변수에 할당한다.<br>
할당한 변수는 if문의 블록 내에서만 사용할 수 있다. 만약 값이 없다면 else 문을 수행한다.

----

## 3. 컴파일러에 의한 자동 추출
옵셔널을 연산자를 사용해 다른 변수와 비교하면, 컴파일러가 자동으로 옵셔널의 값을 추출해주는 방식이다.
```swift
let value: Int? = 6

if value == 6 {
	print("value = 6")
} else {
	print("value != 6")
}
```
```swift
value = 6
```

-----

## 4. 옵셔널의 묵시적 추출
묵시적 추출은 옵셔널 타입이지만 옵셔널의 값을 사용할 때는 자동으로 값을 추출해준다. 옵셔널과 달리, 묵시적 추출은 데이터 타입 뒤에 느낌표(!)를 붙여 표현한다.

```swift
let string = "12"
var stringToInt: Int! = Int(string)
print(stringToInt + 1)
```
```swift
13
```
느낌표가 붙어있는 stringToInt 변수는 사용할 때 옵셔널의 값을 묵시적으로 추출하여 일반 변수처럼 자유롭게 사용할 수 있다.<br>
강제 추출과 동일하게 nil이 할당되어 있을 때 접근을 시도하면 런타임 에러가 발생한다.

-----

```swift
var stringToInt: Int! = Int(string)
```
위 코드에서 Int() 함수는 문자열이나 문자 타입의 변수를 정수로 변환해준다. 이때 문자열이 숫자가 아닌 한글이나 영어로 되어있을 때는 정수로 변환할 수 없기 때문에 값이 존재하지 않는다.

즉, Int() 함수에서 반환된 값이 정수일 수도, nil일 수도 있다. 때문에 일반 변수가 아닌, 옵셔널을 사용해야 한다.